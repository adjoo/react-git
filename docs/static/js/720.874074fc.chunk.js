"use strict";(self.webpackChunkreact_new=self.webpackChunkreact_new||[]).push([[720],{3720:function(e,t,s){s.r(t),s.d(t,{default:function(){return K}});var r=s(7853),o=s(4531),i=s(8932),n=s(2587),a=s(2791),u="Profile_root__rJnrk",l="MyPosts_title__ET8M0",c="MyPosts_area__zY9od",p="Post_item__aSPi7",f="Post_item__picture__dCVEp",d="Post_item__content__KMQZi",h=s(184),m=function(e){return(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("div",{className:f,children:(0,h.jsx)("img",{src:"https://get.wallhere.com/photo/1500x900-px-action-adventure-alien-aliens-Avatar-fantasy-fi-fighting-futuristic-sci-warrior-1635343.jpg",alt:""})}),(0,h.jsxs)("div",{className:d,children:[(0,h.jsx)("p",{children:e.message}),(0,h.jsxs)("span",{children:["likes: ",e.likesCount]})]})]})},v=s(6139),j=s(704),x=s(323),P=s(9086),g=(0,x.D)(10),_=(0,j.Z)({form:"addNewPostForm"})((function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(v.Z,{component:P.gx,validate:[x.l,g],name:"newPostText",placeholder:"type here..."})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),y=a.memo((function(e){var t=e.posts.map((function(e){return(0,h.jsx)(m,{message:e.message,likesCount:e.likesCount})}));return(0,h.jsxs)("div",{children:[(0,h.jsx)("h5",{className:l,children:"My Posts"}),(0,h.jsx)("div",{className:c,children:(0,h.jsx)(_,{onSubmit:function(t){e.addPost(t.newPostText)},new:!0})}),t]})})),b=s(6070),k=s(364),S=(0,k.$j)((function(e){return{posts:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:b.q2})(y),U=s(3738),w="ProfileInfo_profileWallpaper__J7Hg5",I="ProfileInfo_mainPhoto__h-0uP",N="ProfileInfo_profileOptions__H4Gut",A=s(2190);var M=s(2327);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,o,i=[],n=!0,a=!1;try{for(s=s.call(e);!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(u){a=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return i}}(e,t)||(0,M.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C="ProfileStatus_profileStatus__y8AMW",z=function(e){var t=Z((0,a.useState)(!1),2),s=t[0],r=t[1],o=Z((0,a.useState)(e.status),2),i=o[0],n=o[1];(0,a.useEffect)((function(){n(e.status)}),[e.status]);return(0,h.jsxs)("div",{className:C,children:[!s&&(0,h.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[i||"no status..."," "]}),s&&(0,h.jsx)("input",{value:i,autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(i)},onChange:function(e){n(e.currentTarget.value)}})]})},D=s(9970),O=["profile","status","authorizedUserId","updateUserStatus","isOwner","savePhoto"],F=["profile"],T=["profile"],J=function(e){var t=e.profile;(0,U.Z)(e,F);return(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)(q,{title:"Full Name",value:t.fullName}),(0,h.jsx)(q,{title:"Looking for a job",value:t.lookingForAJob?"yes":"no"}),(0,h.jsx)(q,{title:"My professional skills",value:t.lookingForAJobDescription}),(0,h.jsx)(q,{title:"About me",value:t.aboutMe}),Object.keys(t.contacts).map((function(e){return(0,h.jsx)(q,{title:e,value:t.contacts[e]},e)}))]})},E=function(e){var t=e.profile;(0,U.Z)(e,T);return(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)(q,{title:"Full Name",value:t.fullName}),(0,h.jsx)(q,{title:"Looking for a job",value:t.lookingForAJob?"yes":"no"}),(0,h.jsx)(q,{title:"My professional skills",value:t.lookingForAJobDescription}),(0,h.jsx)(q,{title:"About me",value:t.aboutMe}),Object.keys(t.contacts).map((function(e){return(0,h.jsx)(q,{title:e,value:t.contacts[e]},e)}))]})},q=function(e){var t=e.title,s=e.value;return(0,h.jsxs)("div",{children:[(0,h.jsxs)("b",{children:[t," : "]}),s]})},L=function(e){var t=e.profile,s=e.status,r=e.authorizedUserId,o=e.updateUserStatus,i=e.isOwner,n=e.savePhoto;(0,U.Z)(e,O);if(!t)return(0,h.jsx)(A.Z,{});return(0,h.jsxs)("div",{children:[(0,h.jsx)(z,{authorizedUserId:r,profile:t,status:s,updateUserStatus:o}),(0,h.jsxs)("div",{className:w,children:[(0,h.jsx)("img",{src:t.photos.large||D,className:I,alt:"alt"}),i&&(0,h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})]}),i?(0,h.jsx)(E,{profile:t}):(0,h.jsx)(J,{profile:t})]})},H=function(e){return(0,h.jsxs)("div",{className:u,children:[(0,h.jsx)(L,{isOwner:e.isOwner,authorizedUserId:e.authorizedUserId,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto}),(0,h.jsx)(S,{})]})},W=s(1045),$=s(97),B=s(1548),G=function(e){(0,i.Z)(s,e);var t=(0,n.Z)(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"refreshProfile",value:function(){console.log("refreshProfile");var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile(),console.log("componentDidUpdate")}},{key:"render",value:function(){return(0,h.jsx)(H,{isOwner:!this.props.match.params.userId,authorizedUserId:this.props.authorizedUserId,status:this.props.status,savePhoto:this.props.savePhoto,updateUserStatus:this.props.updateUserStatus,profile:this.props.profile})}}]),s}(a.Component),K=(0,$.qC)((0,k.$j)((function(e){return{authorizedUserId:e.auth.userId,profile:e.profilePage.profile,status:e.profilePage.profileStatus}}),{getProfile:b.Ai,getUserStatus:b.Tq,updateUserStatus:b.OL,savePhoto:b.Ju}),B.D,W.EN)(G)}}]);
//# sourceMappingURL=720.874074fc.chunk.js.map