"use strict";(self.webpackChunkreact_new=self.webpackChunkreact_new||[]).push([[90],{7090:function(e,t,s){s.r(t),s.d(t,{default:function(){return Y}});var r=s(6515),o=s(7853),i=s(4531),n=s(8932),a=s(2587),l=s(2791),u="Profile_root__rJnrk",c="MyPosts_title__ET8M0",f="MyPosts_area__zY9od",d="Post_item__aSPi7",p="Post_item__picture__dCVEp",h="Post_item__content__KMQZi",m=s(184),x=function(e){return(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("div",{className:p,children:(0,m.jsx)("img",{src:"https://get.wallhere.com/photo/1500x900-px-action-adventure-alien-aliens-Avatar-fantasy-fi-fighting-futuristic-sci-warrior-1635343.jpg",alt:""})}),(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("p",{children:e.message}),(0,m.jsxs)("span",{children:["likes: ",e.likesCount]})]})]})},v=s(6139),j=s(704),P=s(323),_=s(9086),b=(0,P.D)(10),g=(0,j.Z)({form:"addNewPostForm"})((function(e){return(0,m.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(v.Z,{component:_.gx,validate:[P.l,b],name:"newPostText",placeholder:"type here..."})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add post"})})]})})),y=l.memo((function(e){var t=e.posts.map((function(e){return(0,m.jsx)(x,{message:e.message,likesCount:e.likesCount},e.id)}));return(0,m.jsxs)("div",{children:[(0,m.jsx)("h5",{className:c,children:"My Posts"}),(0,m.jsx)("div",{className:f,children:(0,m.jsx)(g,{onSubmit:function(t){e.addPost(t.newPostText)},new:!0})}),t]})})),k=s(6070),I=s(364),S=(0,I.$j)((function(e){return{posts:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),{addPost:k.q2})(y);var w=s(2327);function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var r,o,i=[],n=!0,a=!1;try{for(s=s.call(e);!(n=(r=s.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(l){a=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}return i}}(e,t)||(0,w.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=s(3738),Z="ProfileInfo_profileWallpaper__J7Hg5",A="ProfileInfo_mainPhoto__h-0uP",M="ProfileInfo_profileOptions__H4Gut",C="ProfileInfo_profileInfoItem__DT2aL",O="ProfileInfo_profileFormButton__VxkWj",F=s(2190),z="ProfileStatus_profileStatus__y8AMW",D=function(e){var t=N((0,l.useState)(!1),2),s=t[0],r=t[1],o=N((0,l.useState)(e.status),2),i=o[0],n=o[1];(0,l.useEffect)((function(){n(e.status)}),[e.status]);return(0,m.jsxs)("div",{className:z,children:[!s&&(0,m.jsxs)("span",{onDoubleClick:function(){r(!0)},children:[i||"no status..."," "]}),s&&(0,m.jsx)("input",{value:i,autoFocus:!0,onBlur:function(){r(!1),e.updateUserStatus(i),n(e.status)},onChange:function(e){n(e.currentTarget.value)}})]})},J=s(9970),T=function(e){var t=e.title,s=e.value;return(0,m.jsxs)("div",{className:C,children:[(0,m.jsx)("div",{children:(0,m.jsxs)("b",{children:[t,"\xa0: "]})}),s]})},E=s(9234),W=["handleSubmit","initialValues","profile","error"],V=(0,j.Z)({form:"editProfile"})((function(e){var t=e.handleSubmit,s=(e.initialValues,e.profile),r=e.error;(0,U.Z)(e,W);return(0,m.jsxs)("form",{className:M,onSubmit:t,children:[(0,m.jsx)(T,{title:"Full Name",value:(0,_.WP)("your name","fullName",[P.l],_.II)}),(0,m.jsx)(T,{title:"Looking for a job",value:(0,_.WP)("","lookingForAJob",[],_.II,{type:"checkbox"})}),(0,m.jsx)(T,{title:"My professional skills",value:(0,_.WP)("...","lookingForAJobDescription",[],_.gx)}),(0,m.jsx)(T,{title:"About me",value:(0,_.WP)("...","aboutMe",[],_.gx)}),Object.keys(s.contacts).map((function(e){return(0,m.jsx)(T,{title:e,value:(0,_.WP)("your ".concat(e," :"),"contacts.".concat(e),[],_.II)},e)})),(0,m.jsx)("div",{className:O,children:(0,m.jsx)("button",{type:"submit",children:"save"})}),r&&(0,m.jsx)("div",{className:E.Z.formSummaryError,children:r})]})})),L=["profile","status","authorizedUserId","updateUserStatus","isOwner","savePhoto","setProfile"],q=["profile","isOwner"],B=function(e){var t=e.profile,s=e.isOwner,r=(0,U.Z)(e,q);return(0,m.jsxs)("div",{className:M,children:[(0,m.jsx)(T,{title:"Full Name",value:t.fullName},"fullName"),(0,m.jsx)(T,{title:"Looking for a job",value:t.lookingForAJob?"yes":"no"},"lookingForAJob"),(0,m.jsx)(T,{title:"My professional skills",value:t.lookingForAJobDescription},"lookingForAJobDescription"),(0,m.jsx)(T,{title:"About me",value:t.aboutMe},"aboutMe"),Object.keys(t.contacts).map((function(e){return(0,m.jsx)(T,{title:e,value:t.contacts[e]},e)})),s&&(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:r.onEditModeProfile,children:"edit"})})]})},G=function(e){var t=e.profile,s=e.status,r=e.authorizedUserId,o=e.updateUserStatus,i=e.isOwner,n=e.savePhoto,a=e.setProfile,u=((0,U.Z)(e,L),N((0,l.useState)(!1),2)),c=u[0],f=u[1];if(!t)return(0,m.jsx)(F.Z,{});return(0,m.jsxs)("div",{children:[(0,m.jsx)(D,{authorizedUserId:r,profile:t,status:s,updateUserStatus:o}),(0,m.jsxs)("div",{className:Z,children:[(0,m.jsx)("div",{className:A,children:(0,m.jsx)("img",{src:t.photos.large||J,alt:"alt"})}),i&&(0,m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})]}),c?(0,m.jsx)(V,{initialValues:t,profile:t,onSubmit:function(e){a(e).then((function(){f(!1)}))}}):(0,m.jsx)(B,{profile:t,onEditModeProfile:function(){f(!0)},isOwner:i})]})},H=function(e){return(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)(G,{isOwner:e.isOwner,authorizedUserId:e.authorizedUserId,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,savePhoto:e.savePhoto,setProfile:e.setProfile}),(0,m.jsx)(S,{})]})},$=s(1045),K=s(97),Q=s(1548),R=function(e){(0,n.Z)(s,e);var t=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)(H,(0,r.Z)({isOwner:!this.props.match.params.userId,authorizedUserId:this.props.authorizedUserId,status:this.props.status,savePhoto:this.props.savePhoto,setProfile:this.props.setProfile,updateUserStatus:this.props.updateUserStatus,profile:this.props.profile},this.props))}}]),s}(l.Component),Y=(0,K.qC)((0,I.$j)((function(e){return{authorizedUserId:e.auth.userId,profile:e.profilePage.profile,status:e.profilePage.profileStatus}}),{getProfile:k.Ai,getUserStatus:k.Tq,updateUserStatus:k.OL,savePhoto:k.Ju,setProfile:k.RG}),Q.D,$.EN)(R)}}]);
//# sourceMappingURL=90.6cf12c99.chunk.js.map